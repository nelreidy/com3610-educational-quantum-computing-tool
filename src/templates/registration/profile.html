{% extends "base.html" %}

{% block content %}
{% include 'pages/components/dash_nav.html' %}
<div class="w-full min-h-screen flex">
    <div class="max-lg:w-full bg-white m-4 p-5 flex w-full">
        <!-- Sidebar -->
        <div class="w-1/5 p-4 border-r h-full flex flex-col">
            <div class="flex flex-col items-center">
                <div class="w-20 h-20 rounded-full bg-gray-300 flex items-center justify-center">
                    <span class="text-gray-600 text-lg">ðŸ‘¤</span>
                </div>
                <h3 class="mt-2 text-gray-900 text-lg font-semibold">{{ user.first_name }} {{ user.last_name }}</h3>
            </div>
            <nav class="mt-4 flex flex-col items-center justify-center">
                <ul class="space-y-2 text-sm flex flex-col items-center justify-center">
                    <li><a href="#" class="text-blue-600 hover:underline">My Certificate</a></li>
                    <li><a href="{% url 'change_email' %}" class="text-blue-600 hover:underline">Change Email</a></li>
                    <li><a href="{% url 'password_change' %}" class="text-blue-600 hover:underline">Change Password</a></li>
                    <li><a href="{% url 'delete_account' %}" class="text-red-600 hover:underline">Delete Account</a></li>
                </ul>
                <a href="{% url 'logout' %}" class="rounded-md bg-gray-700 px-3 py-1.5 text-sm font-semibold text-white mr-5 mt-7 shadow-sm hover:bg-gray-500">Log Out</a>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="flex-grow p-4">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Progress & Badges (1/3 width) -->
                <div class="col-span-2 flex flex-col gap-4">
                    <!-- Progress -->
                    <div class="border rounded p-4" id="lesson-progress">
                        <h3 class="font-semibold text-lg text-indigo-600">Progress</h3>
                        <!-- We'll populate this with JS -->
                    </div>
                          
                        

                    
                    
                    <!-- Badges -->
                    <div class="border p-4 rounded overflow-y-auto">
                        <h3 class="font-semibold text-lg">Badges</h3>
                        <p class="text-gray-500 text-sm">No badges earned yet.</p>
                    </div>
                </div>

                <!-- Saved Circuits (2/3 width) -->
                <div class="border rounded col-span-1 h-[500px] flex flex-col overflow-hidden">
                    <div class="p-4 flex-grow flex flex-col">
                        <h3 class="font-semibold text-lg text-indigo-600 mb-2">Saved Circuits</h3>
                
                        {% if user.is_authenticated %}
                            {% include 'pages/components/circuit_table.html' %}
                        {% else %}
                            <div class="w-full h-16 flex justify-center items-center bg-gray-100">
                                <p class="text-xs text-gray-700"><i>Sign in to use this feature</i></p>
                            </div>
                        {% endif %}
                    </div>
                </div>
                

            </div>
        </div>
    </div>
</div>
{% endblock %}
